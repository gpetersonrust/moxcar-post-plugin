{"version":3,"file":"admin/admin-wpb0844e09398bb2d56656.js","mappings":"mBAG2BA,SAASC,iBAAiB,qBAC7BC,SAMpB,SAA+BC,GAE3B,IAAIC,EAAqBD,EAAgBE,cAAc,uBACnDC,EAAUH,EAAgBI,aAAa,MAEvCC,EAAmCL,EAAgBE,cAAc,6BAcrE,SAAiCI,EAAMH,GACnC,IAAII,EAAkBD,EAAKJ,cAAc,gBACrCM,EAAS,SACTC,EAASH,EAAKJ,cAAc,UAChCK,EAAgBG,iBAAiB,UAAU,WACpCH,EAAgBI,SACfH,EAAS,SACTC,EAAOG,YAAc,cAErBH,EAAOI,UAAUC,IAAI,wBAGrBN,EAAS,SACTC,EAAOG,YAAc,cAGrBH,EAAOI,UAAUE,OAAO,uBAE5BC,QAAQC,IAAIT,EAChB,IAKFF,EAAKI,iBAAiB,UAAUQ,eAAeC,GAE7C,IAGI,GAFAA,EAAEC,iBAEY,WAAXZ,IACoBa,QAAQ,8CAEvB,OAMR,IAAIC,EAAezB,SAAS0B,cAAc,SAC1CD,EAAaE,aAAa,OAAQ,UAClCF,EAAaE,aAAa,OAAQ,UAClCF,EAAaE,aAAa,QAAShB,GACnCF,EAAKmB,YAAYH,GAEjB,IAAII,EAAgB7B,SAAS0B,cAAc,SAC3CG,EAAcF,aAAa,OAAQ,UACnCE,EAAcF,aAAa,OAAQ,WACnCE,EAAcF,aAAa,QAASrB,GACpCG,EAAKmB,YAAYC,GAEjBpB,EAAKqB,QAET,CAAE,MAAOC,GAEL,OADAZ,QAAQC,IAAIW,GACLC,MAAM,0CAEjB,CAGF,GACF,EAxEAC,CADWzB,EAAiCH,cAAc,QAC5BC,GAI9BF,EAAmBS,iBAAiB,SAAS,WAEzCM,QAAQC,IAAIZ,GACuC,SAAnDA,EAAiC0B,MAAMC,SAAwB3B,EAAiC0B,MAAMC,QAAsE3B,EAAiC0B,MAAMC,QAAU,OAA3G3B,EAAiC0B,MAAMC,QAAU,MACvK,GAEA,IAuEWnC,SAASC,iBAAiB,gBAEhCC,SAEb,SAA6BkC,GACzBA,EAAYvB,iBAAiB,SAAUQ,iBACtC,IACGe,EAAYpB,UAAUqB,OAAO,UAE7B,IAAIC,EAAWF,EAAY7B,aAAa,iBACpCI,EAASyB,EAAY7B,aAAa,eAClCgC,EAAQH,EAAY7B,aAAa,eAEjCiC,EAAsB,MAAVD,EAAgB,IAAM,IACvCpB,QAAQC,IAAI,CACLkB,WACA3B,SACA4B,QACAC,cAMV,IAAIC,EAAM,IAAIC,IAAIJ,GAClBG,EAAIE,aAAaC,IAAI,SAAUjC,GAC/B8B,EAAIE,aAAaC,IAAI,QAASJ,GAC9BK,OACCC,SACAC,QAAQN,EAMR,CAAE,MAAOV,GAEN,OADAZ,QAAQC,IAAIW,GACLC,MAAM,0CAEhB,CAED,GACJ,G","sources":["webpack://_new/./src/admin/js/admin.js"],"sourcesContent":["import  '../scss/admin.scss';\n\nfunction subscriber_cards_handler(){\n    let subscriber_cards = document.querySelectorAll('.subscribers-card');\n       subscriber_cards.forEach(subscribe_card_method);\n\n\n\n       //  methods to handle subscriber cards\n   \n    function subscribe_card_method(subscriber_card)  {\n        //  get subscriber-options\n        let subscriber_options = subscriber_card.querySelector('.subscriber-options');\n        let user_id = subscriber_card.getAttribute('id');\n        // get subscriber-option-forms\n        let subscriber_option_form_container = subscriber_card.querySelector('.subscriber-option-forms');\n        let form = subscriber_option_form_container.querySelector('form');\n        subscriber_form_handler(form, user_id);\n       \n\n        // get subscriber-options-toggle\n        subscriber_options.addEventListener('click', function(){\n            //  if style is none make option form flex else make it none\n            console.log(subscriber_option_form_container);\n            subscriber_option_form_container.style.display === 'none'  || !subscriber_option_form_container.style.display   ? subscriber_option_form_container.style.display = 'flex' : subscriber_option_form_container.style.display = 'none';\n        }\n        );\n        }\n\n        function subscriber_form_handler(form, user_id){\n            let delete_checkbox = form.querySelector('#delete_user');\n            let action = 'update'; \n            let button = form.querySelector('button');\n            delete_checkbox.addEventListener('change', function(){\n                if(delete_checkbox.checked){\n                    action = 'delete';\n                    button.textContent = 'Delete User';\n                    // add class to button .delete-user-button \n                    button.classList.add('delete-user-button');\n                }\n                else{\n                    action = 'update';\n                    button.textContent = 'Update User';\n                    // remove class from button .delete-user-button\n\n                    button.classList.remove('delete-user-button');\n                }\n                console.log(action);\n            }\n            );\n            // formdata\n            \n\n          form.addEventListener('submit', async function(e){\n           \n            try {\n                e.preventDefault();\n                // if action is delete ask for confirmation\n                if(action === 'delete'){\n                    let confirmation = confirm('Are you sure you want to delete this user?');\n                    if(!confirmation){\n                        return;\n                    }\n                }\n    \n                \n                // create an action input field for form\n                let action_input = document.createElement('input');\n                action_input.setAttribute('type', 'hidden');\n                action_input.setAttribute('name', 'action');\n                action_input.setAttribute('value', action);\n                form.appendChild(action_input);\n                // create an user_id input field for form\n                let user_id_input = document.createElement('input');\n                user_id_input.setAttribute('type', 'hidden');\n                user_id_input.setAttribute('name', 'user_id');\n                user_id_input.setAttribute('value', user_id);\n                form.appendChild(user_id_input);\n                // now submit the form\n                form.submit();\n                \n            } catch (error) {\n                console.log(error);\n                return alert('An error occured please try again later');\n                \n            }\n\n\n          });\n        }\n\n\n}\n\nsubscriber_cards_handler();\n\n// moxcar-pill\n\nlet moxcar_pills = document.querySelectorAll('.moxcar-pill');\n\nmoxcar_pills.forEach(moxcar_pill_handler);\n\nfunction moxcar_pill_handler(moxcar_pill){\n    moxcar_pill.addEventListener('click',  async function(){\n     try {\n        moxcar_pill.classList.toggle('active');\n        //  data-post_url=\"<?php echo $post_url ?>\" data-action=\"testing_mode\" value=\"0\" \n        let post_url = moxcar_pill.getAttribute('data-post_url');\n        let action = moxcar_pill.getAttribute('data-action');\n        let value = moxcar_pill.getAttribute('data-active');\n        \n        let new_value = value === '0' ? '1' : '0';\n       console.log({\n              post_url,\n              action,\n              value,\n              new_value\n         \n\n       });\n\n    //    reload the page with the action and new_value as query string\n    let url = new URL(post_url);\n    url.searchParams.set('action', action);\n    url.searchParams.set('value', new_value);\n    window\n    .location\n    .replace(url);\n\n\n         \n\n        \n     } catch (error) {\n        console.log(error);\n        return alert('An error occured please try again later');\n        \n     }\n\n    });\n}\n"],"names":["document","querySelectorAll","forEach","subscriber_card","subscriber_options","querySelector","user_id","getAttribute","subscriber_option_form_container","form","delete_checkbox","action","button","addEventListener","checked","textContent","classList","add","remove","console","log","async","e","preventDefault","confirm","action_input","createElement","setAttribute","appendChild","user_id_input","submit","error","alert","subscriber_form_handler","style","display","moxcar_pill","toggle","post_url","value","new_value","url","URL","searchParams","set","window","location","replace"],"sourceRoot":""}